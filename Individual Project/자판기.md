## 두번째 앱제작 과제 : 자판기 



1. **앱 이미지**

![자판기](https://github.com/JeongHoonkr/IOS5-Studying-Record/blob/master/Individual%20Project/image/스크린샷%202017-09-17%20오후%209.00.24.png?raw=true)









2. **제작시간 : 2시간 30분**

3. **어려웠던 점**

   * 터치시마다 장바구니와 현재잔액이 플러스 되는 부분 구현하기

     > **해결방법 : += 연산으로 해결 (코딩이 익숙치 않아 생긴 문제)**

     ​

   * 구매후 재구매할때마다의 오류처리

     > **해결방법 : 케이스 발생시마다 코드 수정**

     ​

   * 이미지를 view안에 넣은 뒤 액션으로 구현하기

     > 최초 작업시 이미지뷰에 이미지를 넣고 뷰컨트롤러 파일로 드래그 하니 __IBAction__이 생성되지 않았다.
     >
     > **해결방법 : 이미지 위에 동일한 크기의 _Button_을 생성하여, 해당 버튼을 뷰컨트롤러에 연결**

   ​            

```

import UIKit

class ViewController: UIViewController {

    // 0.   UI 타이틀 및 텍스트
    
    @IBOutlet weak var appTitle: UILabel!
    @IBOutlet weak var basketMoney: UILabel!
    @IBOutlet weak var currentBalance: UILabel!
    @IBOutlet weak var greetingMsg: UILabel!
    
    
    override func viewDidLoad() {
        
    // 1.   초기 화면 뿌려질 부분
        super.viewDidLoad()
        currentBalance.text = "0"
        appTitle.text = "천원 마켓"
        basketMoney.text = "\(estimatedBuying)"
        greetingMsg.text = "다 먹고 싶죠? (궁금)"
    }
    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }
    
    // 2.   변수 선언
    var balance: Int = 0
    var charged: Int = 1000
    var estimatedBuying: Int = 0
    var pricePerItem: Int = 1000
    
    
    // 3.   물건 선택
    // 3-1. 터치시마다 장바구니 금액 증가 및 최초 터치시 메세지 변경
    @IBAction func items (btn: UIButton)
    {
        estimatedBuying += pricePerItem
        basketMoney.text = String(estimatedBuying)
        greetingMsg.text = "다 먹고 싶죠? (방긋)"
    }
    
    // 4.   물건 구매 (조건 충족 필요)
    // 4-1. 잔액이 장바구니 금액보다 크거나 같고 (and) 장바구니 금액이 0이 아닐때
    //      잔액에서 장바구니 금액만큼 차감
    //      장바구니 금액은 장바구니 금액만큼 차감
    //      장바구니 금액은 초기화해서 출력
    // 4-2. 잔액이 장바구니 금액보다 작을때 "돈 가져오세요" 출력
    // 4-3. 장바구니 금액이 0일때는 "아직 안고르셨음" 출력
    @IBAction func purchase (btn: UIButton) {
        if  balance >= estimatedBuying && estimatedBuying != 0 {
            balance -= estimatedBuying
            self.basketMoney.text = "\(estimatedBuying - estimatedBuying)"
            self.currentBalance.text = String(balance)
            self.greetingMsg.text = "또 올거죠? (애원)"
            estimatedBuying = 0
            
        } else if balance < estimatedBuying && estimatedBuying != 0 {
            self.greetingMsg.text = "돈 가져오세요 (빠직)"}
          else if estimatedBuying == 0 {
            self.greetingMsg.text = "아직 안고르셨음 (민망)"
        }
        
    }
    
    // 5. 잔액 충전 : 터치시마다 천원씩 증가
    @IBAction func charge (btn: UIButton) {
        balance += charged
        self.currentBalance.text = String(balance)
    }
    
    // 6. 구매 초기화 : 터치시 장바구니 금액 및 환영메세지 초기화
    @IBAction func reset (btn: UIButton) {
        estimatedBuying = 0
        self.basketMoney.text = String(estimatedBuying)
        self.greetingMsg.text = "다 먹고 싶죠? (의미심장)"
    }
}
```

